<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
* Copyright (c) Codice Foundation
*
* This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either
* version 3 of the License, or any later version.
*
* This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
* See the GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public License is distributed along with this program and can be found at
* <http://www.gnu.org/licenses/lgpl.html>.
*
**/

-->
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
                    xmlns:bp="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
           xmlns:ext="http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.0.0" >

     <cm:property-placeholder persistent-id="org.codice.opendx.xmpp" update-strategy="reload">
         <cm:default-properties>
             <cm:property name="org.codice.opendx.xmpp.login" value="TestUser"/>
             <cm:property name="org.codice.opendx.xmpp.password" value="$123qwe!"/>
             <cm:property name="org.codice.opendx.xmpp.nickname" value="TestUser"/>
             <cm:property name="org.codice.opendx.xmpp.server" value="localhost.localdomain"/>
             <cm:property name="org.codice.opendx.xmpp.port" value="5222"/>
             <cm:property name="org.codice.opendx.xmpp.room" value="Test@localhost.localdomain"/>
             <cm:property name="org.codice.opendx.xmpp.sASLAuthenticationEnabled" value="true"/>
         </cm:default-properties>
     </cm:property-placeholder>

    <reference id="opendx-fanout" interface="ddf.catalog.CatalogFramework"/>

    <bean id="xmppClient" class="org.codice.opendx.xmpp.XmppClient" init-method="init"
            destroy-method="destroy">
        <property name="login" value="${org.codice.opendx.xmpp.login}"/>
        <property name="password" value="${org.codice.opendx.xmpp.password}" />
        <property name="nickname" value="${org.codice.opendx.xmpp.nickname}"/>
        <property name="server" value="${org.codice.opendx.xmpp.server}" />
        <property name="port" value="${org.codice.opendx.xmpp.port}"/>
        <property name="room" value="${org.codice.opendx.xmpp.room}" />
        <property name="sASLAuthenticationEnabled" value="${org.codice.opendx.xmpp.sASLAuthenticationEnabled}"/>
        <property name="catalog" ref="opendx-fanout" />
    </bean>



</blueprint>